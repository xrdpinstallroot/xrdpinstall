<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description" content="Remoting into Linux with XRDP : Installing XRDP onto your Linux Distro" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>XRDP Install</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <h1 id="project_title">Remoting into Linux with XRDP</h1>
          <h2 id="project_tagline">Installing XRDP onto your Linux Distro</h2>
        </header>
    </div>
    
  <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        
        
  <h3><a name="abstract" class="anchor" href="#abstract"><span class="octicon octicon-link"></span></a>Abstract</h3>
  <p> The purpose of this tutorial is to get you up and running with xrdp as quickly as possible. 
    Xrdp allows using the Microsoft Remote Desktop client on Windows to gain remote desktop access into Xorg sessions running on Linux. 
    Your choice of Linux desktop, Linux operating system, and Linux init system can all change the steps needed for xrdp installation.</p>

  <h3><a name="combinations" class="anchor" href="#abstract"><span class="octicon octicon-link"></span></a>Linux Combinations</h3>
  <p> There are an infinite number of possible Linux setups and an infinite number of ways the software can be installed. To simplify, this documentation 
  will only provide happy path command line steps for the Linux setups that we or others have tested and we know xrdp works after a final reboot. 
  So the document here will be very long and try to include the steps or commands we used to make a particular Linux Distro work with the xrdp install. 
  But the part you will need to read should be small and contained to the configuration that closest matches what you are using. For example, if your 
  desktop environment is XFCE, your init system is the most common SystemD, and say your Linux Distro is Arch, then just read the commands we provide for a 
  section titled Arch-XFCE-SystemD. Also please email us with any steps you come up with that we can include in this document.
  </p>

  <h3><a name="arch-xfce-systemd" class="anchor" href="#abstract"><span class="octicon octicon-link"></span></a>Arch-XFCE-SystemD using Pacman</h3>

  <pre><code>
  #Refresh/upgrade
  sudo pacman -Syu

  #Install Yay
  sudo pacman -S base-devel go
  mkdir -p ~/work/aur ; cd ~/work/aur
  su
  pacman -S git
  exit
  git clone https://aur.archlinux.org/yay.git
  cd yay
  makepkg
  sudo pacman -U yay-12.4.2-1-x86_64.pkg.tar.zst

  yay xrdp       #choose 1 aur/xrdp, choose A for ALL, N for dont show diffs, N for remove dependencies, Y to proceed, Y to install
  yay xorgxrdp   #choose 1 aur/xorgxrdp, same stuff again as above, Y to generate keys

  nano ~/.xinitrc
  exec startxfce4      #add this line to new file

  sudo systemctl enable --now xrdp

  sudo reboot    #don't have to reboot but makes a better test

  #Microsoft remote desktop can access linux desktop now

  #Try to get sound redirection working

  mkdir ~/Downloads
  cd ~/Downloads
  git clone https://github.com/neutrinolabs/pipewire-module-xrdp.git --recursive
  cd ~/Downloads/pipewire-module-xrdp
  ./bootstrap
  ./configure
  make
  sudo make install

  sudo reboot

  #check it
  ps -aux | grep pipewire-module-xrdp

  #Sound now works too

  </code></pre>



  <h3><a name="endeavor-xfce-systemd" class="anchor" href="#abstract"><span class="octicon octicon-link"></span></a>Endeavor-XFCE-SystemD using Pacman</h3>

  <pre><code>
  #Refresh/upgrade
  sudo pacman -Syu

  sudo firewall-cmd --permanent --add-port=3389/tcp

  yay xrdp       #choose 1 aur/xrdp, choose A for ALL, N for dont show diffs, N for remove dependencies, Y to proceed, Y to install
  yay xorgxrdp   #choose 1 aur/xorgxrdp, same stuff again as above, Y to generate keys

  nano ~/.xinitrc
  exec startxfce4      #add this line to new file

  sudo systemctl enable --now xrdp

  sudo reboot    #don't have to reboot but makes a better test

  #Microsoft remote desktop can access linux desktop now

  #Try to get sound redirection working

  mkdir ~/Downloads
  cd ~/Downloads
  git clone https://github.com/neutrinolabs/pipewire-module-xrdp.git --recursive
  cd ~/Downloads/pipewire-module-xrdp
  ./bootstrap
  ./configure
  make
  sudo make install

  sudo reboot

  #check it
  ps -aux | grep pipewire-module-xrdp

  #Sound now works too

  </code></pre>
        
        
        


  <h3><a name="cachy-xfce-systemd" class="anchor" href="#abstract"><span class="octicon octicon-link"></span></a>Cachy-XFCE-SystemD using Pacman</h3>

  <pre><code>
  #Refresh/upgrade
  sudo pacman -Syu

  #Install Yay
  sudo pacman -S base-devel go
  mkdir -p ~/work/aur ; cd ~/work/aur
  git clone https://aur.archlinux.org/yay.git
  cd yay
  makepkg
  sudo pacman -U yay-12.4.2-1-x86_64.pkg.tar.zst
    
  yay xrdp       #choose 1 aur/xrdp, choose A for ALL, N for dont show diffs, N for remove dependencies, Y to proceed, Y to install
  yay xorgxrdp   #choose 1 aur/xorgxrdp, same stuff again as above, Y to generate keys

  nano ~/.xinitrc
  exec startxfce4      #add this line to new file

  sudo systemctl enable --now xrdp

  sudo nano /etc/X11/Xwrapper.config
  # Should say:
  allowed_users = anybody

  sudo ufw allow 3389

  sudo reboot    #don't have to reboot but makes a better test

  #Microsoft remote desktop can access linux desktop now

  #Try to get sound redirection working

  mkdir ~/Downloads
  cd ~/Downloads
  git clone https://github.com/neutrinolabs/pipewire-module-xrdp.git --recursive
  cd ~/Downloads/pipewire-module-xrdp
  ./bootstrap
  ./configure
  make
  sudo make install

  sudo reboot

  #check it
  ps -aux | grep pipewire-module-xrdp

  #Sound now works too

  </code></pre>




  <h3><a name="cachy-kdeplasma-systemd" class="anchor" href="#abstract"><span class="octicon octicon-link"></span></a>Cachy-KDE Plasma-SystemD using Pacman</h3>

  <pre><code>
  #Refresh/upgrade
  sudo pacman -Syu

  #Install Yay
  sudo pacman -S base-devel go
  mkdir -p ~/work/aur ; cd ~/work/aur
  git clone https://aur.archlinux.org/yay.git
  cd yay
  makepkg
  sudo pacman -U yay-12.4.2-1-x86_64.pkg.tar.zst
    
  yay xrdp       #choose 1 aur/xrdp, choose A for ALL, N for dont show diffs, N for remove dependencies, Y to proceed, Y to install
  yay xorgxrdp   #choose 1 aur/xorgxrdp, same stuff again as above, Y to generate keys

  nano ~/.xinitrc
  #add two lines to new file
  export DESKTOP_SESSION=plasma
  /usr/lib/plasma-dbus-run-session-if-needed startplasma-x11

  sudo systemctl enable --now xrdp

  sudo nano /etc/X11/Xwrapper.config
  # Should say:
  allowed_users = anybody

  sudo ufw allow 3389

  sudo reboot    #don't have to reboot but makes a better test

  #Microsoft remote desktop can access linux desktop now

  #Try to get sound redirection working

  mkdir ~/Downloads
  cd ~/Downloads
  git clone https://github.com/neutrinolabs/pipewire-module-xrdp.git --recursive
  cd ~/Downloads/pipewire-module-xrdp
  ./bootstrap
  ./configure
  make
  sudo make install

  sudo reboot

  #check it
  ps -aux | grep pipewire-module-xrdp

  #Sound now works too

  </code></pre>
        




  <h3><a name="manjaro-xfce-systemd" class="anchor" href="#abstract"><span class="octicon octicon-link"></span></a>Manjaro-XFCE-SystemD using Pacman</h3>

  <pre><code>
  #Refresh/upgrade
  sudo pacman -Syu

  #Install Yay
  sudo pacman -S base-devel go
  mkdir -p ~/work/aur ; cd ~/work/aur
  su
  pacman -S git
  exit
  git clone https://aur.archlinux.org/yay.git
  cd yay
  makepkg
  sudo pacman -U yay-12.4.2-1-x86_64.pkg.tar.zst

  yay xrdp       #choose 1 aur/xrdp, choose A for ALL, N for dont show diffs, N for remove dependencies, Y to proceed, Y to install
  yay xorgxrdp   #choose 1 aur/xorgxrdp, same stuff again as above, Y to generate keys

  sudo ufw allow from any to any port 3389 proto tcp
    
  #I backed up their existing file, and put the one liner file below.
  nano ~/.xinitrc
  exec startxfce4

  sudo systemctl enable --now xrdp

  #These commands were needed on Manjaro since permissions were restrictive
  sudo chmod 644 /etc/xrdp/cert.pem 
  sudo chmod 640 /etc/xrdp/key.pem 

  sudo reboot    #don't have to reboot but makes a better test

  #Microsoft remote desktop can access linux desktop now

  #Try to get sound redirection working

  mkdir ~/Downloads
  cd ~/Downloads
  git clone https://github.com/neutrinolabs/pipewire-module-xrdp.git --recursive
  cd ~/Downloads/pipewire-module-xrdp
  ./bootstrap
  ./configure
  make
  sudo make install

  sudo reboot

  #check it
  ps -aux | grep pipewire-module-xrdp

  #Sound now works too

  </code></pre>





  <h3><a name="mint-cinnamon-systemd" class="anchor" href="#abstract"><span class="octicon octicon-link"></span></a>Mint-Cinnamon-SystemD using apt install</h3>

  <pre><code>

  sudo apt update

  sudo ufw allow from any to any port 3389 proto tcp

  sudo apt install xrdp
  sudo apt install xorgxrdp

  #Needed for Mint
  sudo adduser xrdp ssl-cert

  sudo systemctl enable xrdp

  sudo reboot

  #RDP works now
  #Didn't need to do anything special for sound, it just works.

  #You can tell xrdp is installed more completely by the xrdp team for this distro!

  </code></pre>




        
        
        
  <h3><a name="contact" class="anchor" href="#contact-me"><span class="octicon octicon-link"></span></a>Contact:</h3>

  <p>If you have any questions or contributions email me.</p>

  <p>Lyle</p>

  <p><a href="mailto:abcfun66@gmail.com">abcfun66@gmail.com</a></p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>xrdp tutorial maintained by <a href="https://github.com/xrdpinstallroot/xrdpinstall">Git Repo Link</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
        <p>A big THANK YOU to the xrdp project! <a href="https://github.com/neutrinolabs">Neutrino Labs</a></p>
      </footer>
    </div>
    
  </body>
</html>
